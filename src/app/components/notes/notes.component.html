<div fxLayout="row wrap" fxLayoutWrap fxLayoutAlign="center center" fxLayoutGap="10px">
  <div *ngFor="let item of model | filter: searchInput; let i=index">


    <mat-card style="width: 340px; margin: 10px; border-radius: 8px"  [style.backgroundColor]="item.color">
      <div fxLayout="row" fxLayoutAlign="space-between">
        <mat-card-title [innerHTML]="item.title" (click)="openDialog(item)">

        </mat-card-title><button mat-icon-button (click)="isPinned = !isPined" style="opacity: 0.4">
          <mat-icon>fiber_pin</mat-icon>
        </button>
      </div>
      <div *ngIf="item.noteCheckLists.length === 0">
        <mat-card-content class="messgCard" [innerHTML]="item.description" (click)="openDialog(item)">
        </mat-card-content>
      </div>
      <div class="messgCard" *ngIf="item.noteCheckLists.length !== 0">

        <div *ngFor="let checklists of item.noteCheckLists;  let j=index">
          <div *ngIf="checklists.isDeleted === false">
            <div fxLayout="row">
              <mat-checkbox fxFlex="10" [checked]="checklists.status === 'close'" 
              (click)="checklists.status === 'close' ? (checklists.status = 'open') : (checklists.status = 'close')"
                (click)="checkTick(checklists, item , i, j)">

              </mat-checkbox>
              <mat-card-content fxFlex="90" [innerHTML]="checklists.itemName" #itemName (click)="openDialog(item)">

              </mat-card-content>
            </div>
          </div>
        </div>

      </div>
      <div fxLayout="column" fxLayoutAlign="space-between" >
      <div fxLayout="row wrap">
        <!-- <div *ngFor="let label of item.labelIdList"> -->
          <div *ngFor="let labelName of item.noteLabels">
            <mat-chip (click)="showLabel(labelName.label)">{{labelName.label}}</mat-chip>
          </div>
        <!-- </div> -->
      </div>
      <br>

      <div fxLayout="row wrap">
        <!-- <div *ngFor="let label of item.labelIdList"> -->
          <div *ngFor="let remainderChip of item.reminder">
            
            <mat-chip ><mat-icon>schedule</mat-icon>&nbsp; {{remainderChip | date: "medium"}}
              <mat-icon (click)="removeRemainder(item)">cancel</mat-icon></mat-chip>
          </div>
        <!-- </div> -->
      </div>
      </div>

      <div class="panal" *ngIf="item.isDeleted === false" fxLayoutAlign="space-between">
        <app-create-remainder [note]="item" [allowDate]="dateFlag" (update)="updateOptionsNote($event)"></app-create-remainder>
        <button mat-icon-button class="addBut">
          <mat-icon>person_add</mat-icon>
        </button>
        <app-palette (resp)="updateBackground($event)" [newColor]="item"></app-palette>
        <app-create-archive [note]="item" (reloadNote)=archiveNote($event)></app-create-archive>
        <app-more-options [note]="item" (update)="updateOptionsNote($event)" (updateLabel)="updateOptionLabel($event)" ></app-more-options>
        <!-- <button mat-icon-button class="moreBut" [matMenuTriggerFor]="menu" ><mat-icon>more_vert</mat-icon></button>
      <mat-menu #menu="matMenu">
        <button mat-menu-item >Delete Note</button>
        <button mat-menu-item>Add Label</button>
        <button mat-menu-item>Make a Copy</button>
      </mat-menu> -->
      </div>
      <div class="panal" *ngIf="item.isDeleted === true">
        <app-trash-more-option [note]="item" (update)="updateOptionsNote($event)" ></app-trash-more-option>
      </div>
    </mat-card>

  </div>
</div>